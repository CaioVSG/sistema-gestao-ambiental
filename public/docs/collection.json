{
    "variable": [
        {
            "id": "baseUrl",
            "key": "baseUrl",
            "type": "string",
            "name": "string",
            "value": "http:\/\/localhost\/sistema-gestao-ambiental\/"
        }
    ],
    "info": {
        "name": "Sistema de Gest\u00e3o Ambiental",
        "_postman_id": "3477aad6-a41f-40c3-9715-838c0a872d77",
        "description": "",
        "schema": "https:\/\/schema.getpostman.com\/json\/collection\/v2.1.0\/collection.json"
    },
    "item": [
        {
            "name": "Endpoints",
            "description": "",
            "item": [
                {
                    "name": "Visitas",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas"
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Consulta todas as visitas do usu\u00e1rio autenticado."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "[{\"id\": 4,\"data_marcada\": \"2022-03-17\",\"data_realizada\": null,\"requerimento_id\": null,\"denuncia_id\": null,\"analista_id\": 2,\"created_at\": \"2022-03-03T13:23:21.000000Z\",\"updated_at\": \"2022-03-03T13:23:21.000000Z\",\"solicitacao_poda_id\": 1,\"denuncia\": null,\"requerimento\": null,\"solicitacao_poda\": {\t\"id\": 1,\t\"protocolo\": \"2UBmH6cog6e0.nCudR54\",\t\"motivo_indeferimento\": null,\t\"autorizacao_ambiental\": null,\t\"status\": 1,\t\"analista_id\": 2,\t\"endereco_id\": 3,\t\"requerente_id\": 1,\t\"created_at\": \"2022-03-03T13:22:46.000000Z\",\t\"updated_at\": \"2022-03-03T13:23:15.000000Z\",\t\"comentario\": \"Voluptatibus ullam n\",\t\"endereco\": {\"id\": 3,\"rua\": \"Rua Manoel Pessoal Juvenal\",\"numero\": \"20\",\"bairro\": \"Severiano de Moraes Filho\",\"cidade\": \"Garanhuns\",\"estado\": \"PE\",\"complemento\": \"Dolorem rem magni ve\",\"cep\": \"55299-400\",\"created_at\": \"2022-03-03T13:22:46.000000Z\",\"updated_at\": \"2022-03-03T13:22:46.000000Z\"\t},\t\"analista\": {\"id\": 2,\"name\": \"Analista\",\"email\": \"analista@analista.com\",\"email_verified_at\": \"2022-02-21T14:09:31.000000Z\",\"role\": 3,\"current_team_id\": null,\"profile_photo_path\": null,\"created_at\": null,\"updated_at\": null,\"profile_photo_url\": \"https:\\\/\\\/ui-avatars.com\\\/api\\\/?name=A&color=7F9CF5&background=EBF4FF\"\t},\t\"requerente\": {\"id\": 1,\"cpf\": \"872.117.185-87\",\"rg\": \"38.291.584-7\",\"orgao_emissor\": \"SDS-PE\",\"user_id\": 4,\"telefone_id\": 1,\"endereco_id\": 1,\"created_at\": null,\"updated_at\": null,\"user\": {\t\"id\": 4,\t\"name\": \"Empresario\",\t\"email\": \"empresa@empresa.com\",\t\"email_verified_at\": \"2022-02-21T14:09:31.000000Z\",\t\"role\": 1,\t\"current_team_id\": null,\t\"profile_photo_path\": null,\t\"created_at\": null,\t\"updated_at\": null,\t\"profile_photo_url\": \"https:\\\/\\\/ui-avatars.com\\\/api\\\/?name=E&color=7F9CF5&background=EBF4FF\"}\t}}\t}]",
                            "name": "visita de solicitacao de poda"
                        },
                        {
                            "header": [],
                            "code": 200,
                            "body": "[{\"id\": 1,\"data_marcada\": \"2022-02-23\",\"data_realizada\": null,\"requerimento_id\": null,\"denuncia_id\": 2,\"analista_id\": 2,\"created_at\": \"2022-02-22T18:55:21.000000Z\",\"updated_at\": \"2022-02-22T18:55:21.000000Z\",\"solicitacao_poda_id\": null,\"denuncia\": {\t\"id\": 2,\t\"empresa_id\": 1,\t\"empresa_nao_cadastrada\": \"\",\t\"endereco\": \"\",\t\"texto\": \"<p>aaaaaaaaaaaaaaaa<\\\/p>\",\t\"denunciante\": \"aaaaaaaa\",\t\"aprovacao\": 2,\t\"protocolo\": \"7iyIcASIu8I\\\/7pEeFruU\",\t\"analista_id\": 2,\t\"created_at\": \"2022-02-22T18:54:42.000000Z\",\t\"updated_at\": \"2022-03-03T11:22:57.000000Z\",\t\"empresa\": {\"id\": 1,\"nome\": \"Info mundo tecnologia\",\"cpf_cnpj\": \"32.970.478\\\/0001-30\",\"eh_cnpj\": true,\"porte\": 1,\"user_id\": 4,\"telefone_id\": 2,\"endereco_id\": 2,\"created_at\": null,\"updated_at\": null,\"represetante_legal_id\": null,\"user\": {\t\"id\": 4,\t\"name\": \"Empresario\",\t\"email\": \"empresa@empresa.com\",\t\"email_verified_at\": \"2022-02-21T14:09:31.000000Z\",\t\"role\": 1,\t\"current_team_id\": null,\t\"profile_photo_path\": null,\t\"created_at\": null,\t\"updated_at\": null,\t\"profile_photo_url\": \"https:\\\/\\\/ui-avatars.com\\\/api\\\/?name=E&color=7F9CF5&background=EBF4FF\"},\"telefone\": {\t\"id\": 2,\t\"numero\": \"(34) 98192-2518\",\t\"created_at\": null,\t\"updated_at\": null},\"endereco\": {\t\"id\": 2,\t\"rua\": \"Rua do Catet\u00e9\",\t\"numero\": \"588\",\t\"bairro\": \"Jardim Monte L\u00edbano\",\t\"cidade\": \"Garanhuns\",\t\"estado\": \"PE\",\t\"complemento\": \"Casa\",\t\"cep\": \"55292-000\",\t\"created_at\": null,\t\"updated_at\": null}\t},\t\"analista\": {\"id\": 2,\"name\": \"Analista\",\"email\": \"analista@analista.com\",\"email_verified_at\": \"2022-02-21T14:09:31.000000Z\",\"role\": 3,\"current_team_id\": null,\"profile_photo_path\": null,\"created_at\": null,\"updated_at\": null,\"profile_photo_url\": \"https:\\\/\\\/ui-avatars.com\\\/api\\\/?name=A&color=7F9CF5&background=EBF4FF\"\t}},\"requerimento\": null,\"solicitacao_poda\": null\t}]",
                            "name": "visita de den\u00fancia"
                        },
                        {
                            "header": [],
                            "code": 200,
                            "body": "[{\"id\": 3,\"data_marcada\": \"2022-03-17\",\"data_realizada\": null,\"requerimento_id\": 7,\"denuncia_id\": null,\"analista_id\": 2,\"created_at\": \"2022-03-03T11:25:45.000000Z\",\"updated_at\": \"2022-03-03T11:25:45.000000Z\",\"solicitacao_poda_id\": null,\"denuncia\": null,\"requerimento\": {\t\"id\": 7,\t\"status\": 6,\t\"tipo\": 1,\t\"tipo_licenca\": 1,\t\"valor\": \"1\",\t\"potencial_poluidor_atribuido\": null,\t\"definicao_valor\": \"Definir de forma manual\",\t\"valor_juros\": null,\t\"analista_id\": 3,\t\"represetante_id\": null,\t\"empresa_id\": 1,\t\"created_at\": \"2022-02-21T15:19:35.000000Z\",\t\"updated_at\": \"2022-03-03T11:25:45.000000Z\",\t\"analista\": {\"id\": 3,\"name\": \"Protocolista\",\"email\": \"protocolista@protocolista.com\",\"email_verified_at\": \"2022-02-21T14:09:31.000000Z\",\"role\": 3,\"current_team_id\": null,\"profile_photo_path\": null,\"created_at\": null,\"updated_at\": null,\"profile_photo_url\": \"https:\\\/\\\/ui-avatars.com\\\/api\\\/?name=P&color=7F9CF5&background=EBF4FF\"\t},\t\"empresa\": {\"id\": 1,\"nome\": \"Info mundo tecnologia\",\"cpf_cnpj\": \"32.970.478\\\/0001-30\",\"eh_cnpj\": true,\"porte\": 1,\"user_id\": 4,\"telefone_id\": 2,\"endereco_id\": 2,\"created_at\": null,\"updated_at\": null,\"represetante_legal_id\": null,\"user\": {\t\"id\": 4,\t\"name\": \"Empresario\",\t\"email\": \"empresa@empresa.com\",\t\"email_verified_at\": \"2022-02-21T14:09:31.000000Z\",\t\"role\": 1,\t\"current_team_id\": null,\t\"profile_photo_path\": null,\t\"created_at\": null,\t\"updated_at\": null,\t\"profile_photo_url\": \"https:\\\/\\\/ui-avatars.com\\\/api\\\/?name=E&color=7F9CF5&background=EBF4FF\"},\"endereco\": {\t\"id\": 2,\t\"rua\": \"Rua do Catet\u00e9\",\t\"numero\": \"588\",\t\"bairro\": \"Jardim Monte L\u00edbano\",\t\"cidade\": \"Garanhuns\",\t\"estado\": \"PE\",\t\"complemento\": \"Casa\",\t\"cep\": \"55292-000\",\t\"created_at\": null,\t\"updated_at\": null},\"telefone\": {\t\"id\": 2,\t\"numero\": \"(34) 98192-2518\",\t\"created_at\": null,\t\"updated_at\": null}\t}},\"solicitacao_poda\": null\t}]",
                            "name": "visita de requerimento"
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Unauthenticated.\"}",
                            "name": "usuario nao autenticado"
                        }
                    ]
                },
                {
                    "name": "Autentica\u00e7\u00e3o",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/users\/auth",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/users\/auth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"email\":\"id\",\"password\":\"ipsa\",\"device_name\":\"omnis\"}"
                        },
                        "description": "Cria um token de autentica\u00e7\u00e3o para o usu\u00e1rio.",
                        "auth": {
                            "type": "noauth"
                        }
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 422,
                            "body": "{\"message\":\"The given data was invalid.\",\"errors\":{\"email\":[\"The provided credentials are incorrect.\"]}}",
                            "name": "Unprocessable Content"
                        },
                        {
                            "header": [],
                            "code": 200,
                            "body": "4|ECTth7OLLJCAtH4HQDhhd1y6fiTmogoGvqGr9c6f",
                            "name": "success"
                        }
                    ]
                },
                {
                    "name": "Usu\u00e1rio",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/users",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/users"
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Consulta o usu\u00e1rio autenticado."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"id\": 1,\"name\": \"Margarita Block II\",\"email\": \"klein.turner@example.net\"}",
                            "name": "success"
                        }
                    ]
                },
                {
                    "name": "Denuncia",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/denuncias\/:id",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/denuncias\/:id",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "1",
                                    "description": "O identificador da den\u00fancia."
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Consulta a den\u00fancia pelo id"
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"id\": 1,\"empresa_id\": 1,\"empresa_nao_cadastrada\": \"\",\"endereco\": \"\",\"texto\": \"<p>aaaaaaaaaaaaaaaaaa<\\\/p>\",\"denunciante\": \"Nostrum elit rerum\",\"aprovacao\": 2,\"protocolo\": \"T1NT$yWfMjWL1zIgUbC2\",\"analista_id\": 2,\"created_at\": \"2022-02-22T18:54:31.000000Z\",\"updated_at\": \"2022-02-22T18:55:14.000000Z\"}",
                            "name": "success"
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Unauthenticated.\"}",
                            "name": "usuario nao autenticado"
                        }
                    ]
                },
                {
                    "name": "Visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "6",
                                    "description": "The ID of the visita."
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Consulta a visita pelo identificador."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{   \"id\": 1,   \"data_marcada\": \"2022-02-23\",   \"data_realizada\": null,   \"requerimento_id\": null,   \"denuncia_id\": 2,   \"analista_id\": 2,   \"created_at\": \"2022-02-22T18:55:21.000000Z\",   \"updated_at\": \"2022-02-22T18:55:21.000000Z\",   \"solicitacao_poda_id\": null  }",
                            "name": "success"
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Unauthenticated.\"}",
                            "name": "usuario nao autenticado"
                        }
                    ]
                },
                {
                    "name": "Empresa",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/empresas\/:id",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/empresas\/:id",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "1",
                                    "description": "O identificador da empresa."
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Consulta a empresa pelo identificador."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"id\": 1,\"nome\": \"Info mundo tecnologia\",\"cpf_cnpj\": \"32.970.478\\\/0001-30\",\"eh_cnpj\": true,\"porte\": 1,\"user_id\": 4,\"telefone_id\": 2,\"endereco_id\": 2,\"created_at\": null,\"updated_at\": null,\"represetante_legal_id\": null}",
                            "name": "success"
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Unauthenticated.\"}",
                            "name": "usuario nao autenticado"
                        }
                    ]
                },
                {
                    "name": "Fotos da visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id\/fotos",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id\/fotos",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "1",
                                    "description": "O identificador da visita."
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Retorna as fotos anexadas a visita."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "[{\"id\": 1, \"caminho\": \"visitas\/1\/histoSiga2021.jpg\", \"comentario\": null, \"visita_id\": 1, \"created_at\": \"2022-04-08T19:08:54.000000Z\", \"updated_at\": \"2022-04-08T19:08:54.000000Z\"}, {\"id\": 2, \"caminho\": \"visitas\/1\/pizzacalabresaacebolada.jpg\", \"comentario\": \"algum comentario aqui\", \"visita_id\": 1, \"created_at\": \"2022-04-11T10:54:40.000000Z\", \"updated_at\": \"2022-04-11T10:54:40.000000Z\"}]",
                            "name": "success"
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Unauthenticated.\"}",
                            "name": "usuario nao autenticado"
                        }
                    ]
                },
                {
                    "name": "Foto da visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id\/fotos\/:id_foto",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id\/fotos\/:id_foto",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "13",
                                    "description": "O identificador da visita."
                                },
                                {
                                    "id": "id_foto",
                                    "key": "id_foto",
                                    "value": "16",
                                    "description": "O identificador da foto da visita."
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Retorna uma foto anexada a visita."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"id\": 2, \"caminho\": \"visitas\/1\/pizzacalabresaacebolada.jpg\", \"comentario\": \"algum comentario aqui\", \"visita_id\": 1, \"created_at\": \"2022-04-11T10:54:40.000000Z\", \"updated_at\": \"2022-04-11T10:54:40.000000Z\"}",
                            "name": "success"
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Unauthenticated.\"}",
                            "name": "usuario nao autenticado"
                        }
                    ]
                },
                {
                    "name": "Deletar imagem da visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id\/fotos\/:id_foto\/delete",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id\/fotos\/:id_foto\/delete",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "5",
                                    "description": "O identificador da visita."
                                },
                                {
                                    "id": "id_foto",
                                    "key": "id_foto",
                                    "value": "7",
                                    "description": "O identificador da foto da visita"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Deleta uma imagem da visita."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\": \"success\"}",
                            "name": "success"
                        }
                    ]
                },
                {
                    "name": "Edita o comentario da foto da visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id\/fotos\/:id_foto\/update",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id\/fotos\/:id_foto\/update",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "17",
                                    "description": "O identificador da visita."
                                },
                                {
                                    "id": "id_foto",
                                    "key": "id_foto",
                                    "value": "19",
                                    "description": "O identificador da foto da visita"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"comentario\":\"corrupti\"}"
                        },
                        "description": ""
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\": \"success\"}",
                            "name": "success"
                        }
                    ]
                },
                {
                    "name": "Salvar imagem da visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id\/image",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id\/image",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "10",
                                    "description": "The ID of the visita."
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "multipart\/form-data"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "id",
                                    "value": 12,
                                    "type": "text"
                                },
                                {
                                    "key": "comentario",
                                    "value": "rerum",
                                    "type": "text"
                                },
                                {
                                    "key": "image",
                                    "src": [],
                                    "type": "file"
                                }
                            ]
                        },
                        "description": "Salva uma imagem da visita."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\": \"success\"}",
                            "name": "success"
                        }
                    ]
                },
                {
                    "name": "Concluir a visita",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/visitas\/:id\/concluir",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/visitas\/:id\/concluir",
                            "variable": [
                                {
                                    "id": "id",
                                    "key": "id",
                                    "value": "6",
                                    "description": "O identificador da visita."
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Salva a informacao de que a visita foi realizada."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\": \"success\"}",
                            "name": "success"
                        }
                    ]
                }
            ]
        }
    ],
    "auth": {
        "type": "bearer"
    }
}